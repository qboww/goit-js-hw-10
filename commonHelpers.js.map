{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/themes/airbnb.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst startButton = document.querySelector('[data-start]');\nconst dateInput = document.querySelector('.datetime-picker');\nconst daysElement = document.querySelector('[data-days]');\nconst hoursElement = document.querySelector('[data-hours]');\nconst minutesElement = document.querySelector('[data-minutes]');\nconst secondsElement = document.querySelector('[data-seconds]');\n\niziToast.settings({ position: 'topRight' });\n\nlet countdownInterval;\n\nconst flatpickrInstance = flatpickr('#datetime-picker', {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n});\n\nfunction convertMs(ms) {\n  const seconds = Math.floor(ms / 1000);\n  const minutes = Math.floor(seconds / 60);\n  const hours = Math.floor(minutes / 60);\n  const days = Math.floor(hours / 24);\n  return {\n    days: days % 24,\n    hours: hours % 24,\n    minutes: minutes % 60,\n    seconds: seconds % 60,\n  };\n}\n\nfunction updateTimer(days, hours, minutes, seconds) {\n  daysElement.textContent = String(days).padStart(2, '0');\n  hoursElement.textContent = String(hours).padStart(2, '0');\n  minutesElement.textContent = String(minutes).padStart(2, '0');\n  secondsElement.textContent = String(seconds).padStart(2, '0');\n}\n\nfunction startCountdown(ms) {\n  clearInterval(countdownInterval);\n  countdownInterval = setInterval(() => {\n    ms -= 1000;\n    if (ms < 0) {\n      clearInterval(countdownInterval);\n      updateTimer(0, 0, 0, 0);\n      iziToast.success({\n        title: 'Finish',\n        message: 'The countdown has finished!',\n      });\n      startButton.classList.remove('btn-disabled');\n      startButton.disabled = false;\n      dateInput.disabled = false;\n    } else {\n      const { days, hours, minutes, seconds } = convertMs(ms);\n      updateTimer(days, hours, minutes, seconds);\n    }\n  }, 1000);\n\n  startButton.disabled = true;\n  dateInput.disabled = true;\n  startButton.classList.add('btn-disabled');\n}\n\nstartButton.addEventListener('click', () => {\n  const selectedDate = flatpickrInstance.selectedDates[0];\n  const currentDate = Date.now();\n  if (!selectedDate || selectedDate <= currentDate) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please select a future date and time.',\n    });\n    return;\n  }\n  const msUntilSelectedDate = selectedDate.getTime() - currentDate;\n  const { days, hours, minutes, seconds } = convertMs(msUntilSelectedDate);\n  updateTimer(days, hours, minutes, seconds);\n  startCountdown(msUntilSelectedDate);\n  startButton.disabled = true;\n});\n"],"names":["startButton","dateInput","daysElement","hoursElement","minutesElement","secondsElement","iziToast","countdownInterval","flatpickrInstance","flatpickr","convertMs","ms","seconds","minutes","hours","updateTimer","days","startCountdown","selectedDate","currentDate","msUntilSelectedDate"],"mappings":"0IAKA,MAAMA,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EAE9DC,EAAS,SAAS,CAAE,SAAU,UAAY,CAAA,EAE1C,IAAIC,EAEJ,MAAMC,EAAoBC,EAAU,mBAAoB,CACtD,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,CACnB,CAAC,EAED,SAASC,EAAUC,EAAI,CACrB,MAAMC,EAAU,KAAK,MAAMD,EAAK,GAAI,EAC9BE,EAAU,KAAK,MAAMD,EAAU,EAAE,EACjCE,EAAQ,KAAK,MAAMD,EAAU,EAAE,EAErC,MAAO,CACL,KAFW,KAAK,MAAMC,EAAQ,EAAE,EAEnB,GACb,MAAOA,EAAQ,GACf,QAASD,EAAU,GACnB,QAASD,EAAU,EACvB,CACA,CAEA,SAASG,EAAYC,EAAMF,EAAOD,EAASD,EAAS,CAClDV,EAAY,YAAc,OAAOc,CAAI,EAAE,SAAS,EAAG,GAAG,EACtDb,EAAa,YAAc,OAAOW,CAAK,EAAE,SAAS,EAAG,GAAG,EACxDV,EAAe,YAAc,OAAOS,CAAO,EAAE,SAAS,EAAG,GAAG,EAC5DR,EAAe,YAAc,OAAOO,CAAO,EAAE,SAAS,EAAG,GAAG,CAC9D,CAEA,SAASK,EAAeN,EAAI,CAC1B,cAAcJ,CAAiB,EAC/BA,EAAoB,YAAY,IAAM,CAEpC,GADAI,GAAM,IACFA,EAAK,EACP,cAAcJ,CAAiB,EAC/BQ,EAAY,EAAG,EAAG,EAAG,CAAC,EACtBT,EAAS,QAAQ,CACf,MAAO,SACP,QAAS,6BACjB,CAAO,EACDN,EAAY,UAAU,OAAO,cAAc,EAC3CA,EAAY,SAAW,GACvBC,EAAU,SAAW,OAChB,CACL,KAAM,CAAE,KAAAe,EAAM,MAAAF,EAAO,QAAAD,EAAS,QAAAD,GAAYF,EAAUC,CAAE,EACtDI,EAAYC,EAAMF,EAAOD,EAASD,CAAO,CAC1C,CACF,EAAE,GAAI,EAEPZ,EAAY,SAAW,GACvBC,EAAU,SAAW,GACrBD,EAAY,UAAU,IAAI,cAAc,CAC1C,CAEAA,EAAY,iBAAiB,QAAS,IAAM,CAC1C,MAAMkB,EAAeV,EAAkB,cAAc,CAAC,EAChDW,EAAc,KAAK,MACzB,GAAI,CAACD,GAAgBA,GAAgBC,EAAa,CAChDb,EAAS,MAAM,CACb,MAAO,QACP,QAAS,uCACf,CAAK,EACD,MACD,CACD,MAAMc,EAAsBF,EAAa,QAAO,EAAKC,EAC/C,CAAE,KAAAH,EAAM,MAAAF,EAAO,QAAAD,EAAS,QAAAD,GAAYF,EAAUU,CAAmB,EACvEL,EAAYC,EAAMF,EAAOD,EAASD,CAAO,EACzCK,EAAeG,CAAmB,EAClCpB,EAAY,SAAW,EACzB,CAAC"}